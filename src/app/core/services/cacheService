import { Injectable } from '@angular/core';
import { Agente } from '../models/agente';
import { AgenteService } from './agente.service';

@Injectable({
    providedIn: 'root'
})
export class cacheService {

    
    constructor(agenteService: new AgenteService()) {}

  /*  guardarInfo(clave, valor){
        sessionStorage.setItem(clave,valor)
    }

    obtenerInfo(clave){
        sessionStorage.getItem(clave)
    }*/

    obtenerAgentes(): Agente[]{
        let agentesString = sessionStorage.getItem("agentes")
        if (agentesString != null){
            let agentesJSON = JSON.parse(agentesString)
            return agentesJSON.map(data => new Agente(data.id,data.nombre,data.descripcion,data.imagenCara,data.imagenCompleta,data.coloresGradiente));
        }
        else
        {
            let agentes  = agenteService.obtenerTodos()

        }


    }
}
